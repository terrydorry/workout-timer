# 筋トレタイマーアプリ

React + TypeScriptで実装された筋トレタイマーアプリです。毎日の筋トレメニュー（上半身／下半身）を選び、決められた順番で自動的に進行します。

## 機能

- **オン期・オフ期メニュー対応**
  - オン期：月（下半身メイン①）、火（上半身＋背中＋体幹）、木（下半身ライト＋体幹）
  - オフ期：月（下半身①）、火（上半身①）、木（下半身②）、土（上半身②）
- セット時間とレスト時間の自動カウントダウン
- 種目間レスト（180秒）の自動管理
- 推奨重量・目標重量の表示
- 一時停止・再開機能
- スキップ機能（次のセット or 次の種目へ）
- **音声通知機能**
  - セット開始/終了時に音声で通知
  - レスト時間の残り10秒、5秒、3秒、2秒、1秒でカウントダウン音
  - Bluetoothイヤフォン対応（Web Audio API使用）
- **バックグラウンド機能**
  - 画面がロックされていてもタイマーが動作
  - バックグラウンドでも音声通知が動作
  - プッシュ通知でセット開始/終了を通知
- レスポンシブデザイン（スマホ対応）

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview
```

## デプロイ（Netlify）

このアプリをNetlifyでGitHub連携して公開する手順は [DEPLOY.md](./DEPLOY.md) を参照してください。

簡単な手順：
1. GitHubリポジトリを作成してコードをプッシュ
2. NetlifyでGitHubと連携
3. 自動デプロイが完了するとURLが発行されます

## プロジェクト構造

```
workout-timer/
├── public/
│   ├── manifest.json                # PWAマニフェスト
│   └── sw.js                        # Service Worker
├── src/
│   ├── hooks/
│   │   └── useWorkoutController.ts  # ワークアウト制御用カスタムHook
│   ├── types.ts                     # 型定義
│   ├── workoutData.ts               # メニューデータ
│   ├── App.tsx                      # メインコンポーネント
│   ├── App.css                      # スタイル
│   └── main.tsx                     # エントリーポイント
├── index.html
├── package.json
├── tsconfig.json
└── vite.config.ts
```

## 使用方法

1. アプリを起動すると、ホーム画面で「オン期」または「オフ期」のメニューから選択できます
2. メニューを選択すると、確認画面が表示されます（種目一覧と総セット数を確認）
3. 「スタート」ボタンをタップすると、最初の種目のセットが自動的に開始されます
4. セット時間が終了すると、自動的にセット間レストに移行します
5. 全セットが終了すると、種目間レスト（180秒）が開始されます
6. 全種目が完了すると、「お疲れさまでした」画面が表示されます

## メニュー構成

### オン期（サッカー練習あり：水〜日 16:30〜18:30）
- **月：下半身メイン①（ヒンジ＋片脚）** - 60〜70分、5種目
- **火：上半身＋背中＋体幹** - 60分、6種目
- **木：下半身ライト＋体幹** - 45〜60分、5種目

### オフ期（サッカー練習なし）
- **月：下半身①（ヒンジ・パワー）** - 70分、6種目
- **火：上半身①（胸＋腕＋背中）** - 65〜75分、7種目
- **木：下半身②（スクワット・安定）** - 70分、5種目
- **土：上半身②（ボリューム控えめ＋補強）** - 50〜60分、5種目

## 操作ボタン

- **スタート**: 確認画面でワークアウトを開始します
- **一時停止 / 再開**: ワークアウトを一時停止・再開します
- **スキップ**: 現在のセットまたはレストをスキップして次に進みます
- **リセット**: ワークアウトをリセットしてホーム画面に戻ります
- **キャンセル**: 確認画面でメニュー選択をキャンセルします

## PWA対応（スマートフォンアプリ化）

このアプリはPWA（Progressive Web App）対応です。スマートフォンのホーム画面に追加して、アプリのように使用できます。

### インストール方法

**iOS (Safari)**
1. Safariでアプリを開く
2. 共有ボタン（□↑）をタップ
3. 「ホーム画面に追加」を選択
4. 「追加」をタップ

**Android (Chrome)**
1. Chromeでアプリを開く
2. メニュー（⋮）をタップ
3. 「ホーム画面に追加」または「アプリをインストール」を選択
4. 「追加」または「インストール」をタップ

### PWA機能

- オフラインでも動作（Service Workerによるキャッシュ）
- ホーム画面から起動できる
- フルスクリーン表示（ブラウザUIなし）
- アプリのような体験
- バックグラウンドでもタイマーが動作
- プッシュ通知対応

### 音声・通知機能

- **音声通知**
  - セット開始：上昇音（2音）
  - セット終了：下降音（3音）
  - カウントダウン：残り10秒、5秒、3秒、2秒、1秒でビープ音
  - ワークアウト完了：上昇音階（5音）
  - Bluetoothイヤフォンでも動作

- **プッシュ通知**
  - セット開始時に通知
  - セット終了時に通知
  - レスト終了時に通知
  - 種目間レスト時に通知
  - ワークアウト完了時に通知

詳細は `PWA_SETUP.md` を参照してください。

